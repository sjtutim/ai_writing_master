# AI4Write

<div align="center">

![AI4Write](https://img.shields.io/badge/AI4Write-Local%20RAG%20Writing%20System-blue?style=for-the-badge)
![Vue 3](https://img.shields.io/badge/Vue-3.4-42b883?style=flat-square&logo=vue.js)
![Nuxt 3](https://img.shields.io/badge/Nuxt-3.11-00DC82?style=flat-square&logo=nuxt.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5.3-3178c6?style=flat-square&logo=typescript)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-38bdf8?style=flat-square&logo=tailwindcss)

**åŸºäº RAG æŠ€æœ¯çš„æœ¬åœ°åŒ–æ™ºèƒ½å†™ä½œç³»ç»Ÿ**

[English](./README_EN.md) | ç®€ä½“ä¸­æ–‡

![AI4Write Demo](./demo.png)

</div>

---

## âœ¨ ç‰¹æ€§

- **ğŸ“š çŸ¥è¯†åº“ç®¡ç†** - æ”¯æŒ Word/TXT æ–‡æ¡£ä¸Šä¼ ï¼Œè‡ªåŠ¨è½¬æ¢ä¸º Markdown å¹¶è¿›è¡Œå‘é‡åŒ–å­˜å‚¨
- **âœï¸ æ™ºèƒ½å†™ä½œ** - åŸºäºçŸ¥è¯†åº“çš„ä¸Šä¸‹æ–‡ï¼Œè°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆé«˜è´¨é‡å†…å®¹
- **ğŸ¨ æ¨¡æ¿é£æ ¼** - æ”¯æŒè‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿å’Œå†™ä½œé£æ ¼ï¼Œçµæ´»æ§åˆ¶ç”Ÿæˆæ•ˆæœ
- **ğŸ”’ æœ¬åœ°éƒ¨ç½²** - å®Œå…¨æœ¬åœ°åŒ–è¿è¡Œï¼Œæ•°æ®å®‰å…¨å¯æ§
- **ğŸ‘¥ å¤šç”¨æˆ·æ”¯æŒ** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)ï¼Œæ”¯æŒå›¢é˜Ÿåä½œ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ (Nuxt 3)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Pinia    â”‚  â”‚ Tailwind  â”‚  â”‚  Vue 3    â”‚  â”‚  Components â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       åç«¯ (Express + TypeScript)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Prisma   â”‚  â”‚  JWT Auth â”‚  â”‚  Jobs     â”‚  â”‚  API Routes â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                    â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL â”‚    â”‚      MinIO       â”‚    â”‚  bge-m3 API  â”‚    â”‚    Redis     â”‚
â”‚  (pgvector)  â”‚    â”‚   æ–‡ä»¶å­˜å‚¨       â”‚    â”‚   å‘é‡åŒ–     â”‚    â”‚   ç¼“å­˜æœåŠ¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| å‰ç«¯æ¡†æ¶ | Nuxt 3 + Vue 3 (Composition API) |
| çŠ¶æ€ç®¡ç† | Pinia |
| UI æ ·å¼ | Tailwind CSS |
| åç«¯æ¡†æ¶ | Express + TypeScript |
| æ•°æ®åº“ ORM | Prisma |
| å‘é‡æ•°æ®åº“ | PostgreSQL + pgvector |
| ç¼“å­˜æœåŠ¡ | Redis |
| å¯¹è±¡å­˜å‚¨ | MinIO |
| æ–‡æœ¬åµŒå…¥ | BGE-M3 |
| å¤§è¯­è¨€æ¨¡å‹ | DeepSeek (OpenAI å…¼å®¹ API) |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18
- PostgreSQL >= 14 (éœ€å¯ç”¨ pgvector æ‰©å±•)
- MinIO (å¯¹è±¡å­˜å‚¨)
- Redis (ç¼“å­˜æœåŠ¡)
- DeepSeek API Key (å¯é€‰ï¼Œç”¨äºæœ¬åœ°éƒ¨ç½²)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/yourusername/ai4write.git
cd ai4write
```

2. **å®‰è£…ä¾èµ–**

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend && npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend && npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

```bash
# åç«¯é…ç½®
cp backend/.env.example backend/.env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ã€MinIOã€API Key ç­‰
```

4. **åˆå§‹åŒ–æ•°æ®åº“**

```bash
cd backend
npx prisma generate
npx prisma db push
npm run seed  # å¯é€‰ï¼šåˆå§‹åŒ–æµ‹è¯•æ•°æ®
```

5. **å¯åŠ¨æœåŠ¡**

```bash
# å¯åŠ¨åç«¯ (ç«¯å£ 3001)
npm run dev:backend

# æ–°ç»ˆç«¯ä¸­å¯åŠ¨å‰ç«¯ (ç«¯å£ 3007)
cd frontend && npm run dev:frontend
```

6. **è®¿é—®åº”ç”¨**

æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3007

### é»˜è®¤è´¦å·

| é‚®ç®± | å¯†ç  | è§’è‰² |
|------|------|------|
| admin@ai4write.local | admin123 | ç®¡ç†å‘˜ |
| test@ai4write.local | user123 | æ™®é€šç”¨æˆ· |

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai4write/
â”œâ”€â”€ frontend/                 # Nuxt 3 å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ assets/css/          # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ components/          # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/            # é¡µé¢å¸ƒå±€
â”‚   â”œâ”€â”€ pages/              # é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ composables/        # ç»„åˆå¼å‡½æ•°
â”‚   â””â”€â”€ nuxt.config.ts      # Nuxt é…ç½®
â”‚
â”œâ”€â”€ backend/                 # Express åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ prisma/         # Prisma Schema
â”‚   â””â”€â”€ prisma/             # æ•°æ®åº“è¿ç§»
â”‚
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ é…ç½®è¯´æ˜

### Docker éƒ¨ç½²

ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½²ï¼ˆåŒ…å« Nginx åå‘ä»£ç†ï¼‰ï¼š

```bash
# è¿›å…¥ docker ç›®å½•
cd docker

# å¤åˆ¶å¹¶é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ã€MinIOã€API Key ç­‰

# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d --build

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

éƒ¨ç½²å®Œæˆåï¼Œé€šè¿‡ `http://YOUR_DOMAIN:8089` è®¿é—®åº”ç”¨ã€‚

#### æ¶æ„è¯´æ˜

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     Nginx       â”‚
                    â”‚   (ç«¯å£ 8089)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                             â”‚
              â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Frontend     â”‚          â”‚     Backend     â”‚
    â”‚  (Nuxt 3:3000)  â”‚          â”‚ (Express:3001)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Nginx** - ç»Ÿä¸€å…¥å£ï¼Œåå‘ä»£ç†å‰åç«¯æœåŠ¡
  - `/` â†’ å‰ç«¯ (Nuxt 3)
  - `/api/*` â†’ åç«¯ API (Express)
- **Frontend** - Nuxt 3 SSR åº”ç”¨
- **Backend** - Express API æœåŠ¡

> **æ³¨æ„**: å½“å‰ Docker é…ç½®å‡è®¾ PostgreSQLã€MinIOã€Redis ç­‰åŸºç¡€è®¾æ–½å·²åœ¨å¤–éƒ¨è¿è¡Œæˆ–å•ç‹¬éƒ¨ç½²ã€‚

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `docker` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# Node ç¯å¢ƒ
NODE_ENV=production

# ===========================================
# å¯¹å¤–æœåŠ¡ç«¯å£
# ===========================================
PROXY_PORT=8089            # Nginx ä»£ç†ç«¯å£ï¼ˆç»Ÿä¸€å…¥å£ï¼‰

# ===========================================
# PostgreSQL (å¤–éƒ¨æœåŠ¡)
# ===========================================
POSTGRES_HOST=your-db-host
POSTGRES_PORT=5432
POSTGRES_USER=ai4write
POSTGRES_PASSWORD=your_password
POSTGRES_DB=ai4write

# ===========================================
# MinIO (å¯¹è±¡å­˜å‚¨)
# ===========================================
MINIO_ENDPOINT=your-minio-host
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=ai4write

# ===========================================
# Redis (å¤–éƒ¨æœåŠ¡)
# ===========================================
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_URL=redis://:password@your-redis-host:6379/0

# ===========================================
# Embedding API (å‘é‡åŒ–æœåŠ¡)
# ===========================================
EMBEDDING_API_URL=http://your-embedding-host:8000/v1/embeddings
EMBEDDING_MODEL=text-embedding-bge-m3

# ===========================================
# DeepSeek/LLM API
# ===========================================
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_API_KEY=sk-xxx
DEEPSEEK_MODEL=deepseek-chat

# ===========================================
# JWT é…ç½®
# ===========================================
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRES_IN=7d

# ===========================================
# å‰ç«¯ API åœ°å€
# ===========================================
# ä½¿ç”¨ Nginx åå‘ä»£ç†æ—¶ï¼Œè®¾ç½®ä¸ºç©ºæˆ–ç›¸å¯¹è·¯å¾„
NUXT_PUBLIC_API_BASE_URL=
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. åˆ›å»ºçŸ¥è¯†åº“

1. è®¿é—®ã€ŒçŸ¥è¯†åº“ã€é¡µé¢
2. ç‚¹å‡»ã€Œæ–°å»ºçŸ¥è¯†åº“ã€åˆ›å»ºåˆ†ç±»
3. ä¸Šä¼  Word/TXT æ–‡æ¡£æˆ–ç›´æ¥ç²˜è´´æ–‡æœ¬
4. ç³»ç»Ÿè‡ªåŠ¨è§£æã€å‘é‡åŒ–å¹¶å­˜å‚¨

### 2. å¼€å§‹å†™ä½œ

1. è®¿é—®ã€Œå†™ä½œå·¥ä½œå°ã€
2. é€‰æ‹©æç¤ºè¯æ¨¡æ¿ (å¯é€‰)
3. è¾“å…¥å†™ä½œè¦æ±‚
4. é€‰æ‹©å•ä¸€çŸ¥è¯†åº“ (å¯é€‰)
5. é€‰æ‹©å†™ä½œé£æ ¼ (å¯é€‰)
6. ç‚¹å‡»ã€Œå¼€å§‹ç”Ÿæˆã€

### 3. ç®¡ç†æ¨¡æ¿

åœ¨ã€Œå†™ä½œå·¥ä½œå°ã€ä¸­åˆ‡æ¢åˆ°ã€Œæ¨¡æ¿ç®¡ç†ã€æˆ–ã€Œé£æ ¼ç®¡ç†ã€æ ‡ç­¾é¡µï¼Œå¯ä»¥ï¼š

- åˆ›å»º/ç¼–è¾‘/åˆ é™¤æç¤ºè¯æ¨¡æ¿
- ç®¡ç†å†™ä½œé£æ ¼èŒƒæ–‡
- è®¾ç½®åˆ†ç±»ç»„ç»‡æ¨¡æ¿

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

```bash
# 1. åç«¯æ–°å¢ API
backend/src/routes/api.ts     # æ·»åŠ è·¯ç”±
backend/src/services/user.ts  # æ·»åŠ ä¸šåŠ¡é€»è¾‘

# 2. å‰ç«¯æ–°å¢é¡µé¢
frontend/pages/admin.vue      # æ–°å»ºé¡µé¢
frontend/components/MyComponent.vue  # æ–°å»ºç»„ä»¶
```

### æ•°æ®åº“è¿ç§»

```bash
# åˆ›å»ºè¿ç§»
npx prisma migrate dev --name add_user_field

# æ‰§è¡Œè¿ç§»
npx prisma migrate deploy
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ æ„Ÿè°¢

- [Nuxt.js](https://nuxt.com/) - Vue.js æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [DeepSeek](https://deepseek.com/) - å¤§è¯­è¨€æ¨¡å‹
- [BGE-M3](https://github.com/FlagOpen/FlagEmbedding) - å‘é‡æ¨¡å‹

---

<div align="center">

**å¦‚æœæœ¬é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ â­ Star æ”¯æŒï¼**

</div>
